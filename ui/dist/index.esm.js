/*!
 * quasar-ui-tyformviewer v0.1.11
 * (c) 2021 dan@typefully.io
 * Released under the MIT License.
 */
import{defineAsyncComponent,ref,openBlock,createBlock,renderSlot,resolveDynamicComponent,mergeProps,defineComponent,reactive,computed,provide,resolveComponent,createVNode,withCtx,toDisplayString,createCommentVNode,Fragment,renderList,inject}from"vue";import{QForm,QCard,QParallax,QImg,QCardSection,openURL,QStepper,QStep,QBtn,QStepperNavigation}from"quasar";var script$7={name:"Block",components:{TyWizard:defineAsyncComponent(function(){return Promise.resolve().then(function(){return Wizard})}),TySection:defineAsyncComponent(function(){return Promise.resolve().then(function(){return Section})}),TyText:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyInput})}),TyPassword:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyInput})}),TyTextarea:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyInput})}),TyEmail:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyInput})}),TySearch:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyInput})}),TyTel:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyInput})}),TyNumber:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyInput})}),TyUrl:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyInput})}),TySelect:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TySelect})}),TySlider:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TySlider})}),TyCheckbox:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyOptionGroup})}),TyRadio:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyOptionGroup})}),TyToggle:defineAsyncComponent(function(){return Promise.resolve().then(function(){return TyOptionGroup})})},props:{blockSchema:Object},setup:function(){return{el:ref(null),hover:ref(!1)}}};function render$7(e,r,t,n,o,l){return openBlock(),createBlock("div",{class:"ty-block",style:{position:"relative"},ref:"el",onMouseover:r[1]||(r[1]=function(e){return n.hover=!0}),onMouseleave:r[2]||(r[2]=function(e){return n.hover=!1})},[renderSlot(e.$slots,"beforeblock",{blockSchema:t.blockSchema,el:n.el,hover:n.hover}),(openBlock(),createBlock(resolveDynamicComponent("ty-"+t.blockSchema.type),mergeProps(t.blockSchema,{class:"q-my-md"}),null,16))],544)}script$7.render=render$7;var script$6=defineComponent({name:"TyFormViewer",components:{Block:script$7,QForm:QForm,QCard:QCard,QParallax:QParallax,QImg:QImg,QCardSection:QCardSection},props:{formSchema:{type:Object,default:function(){return{}}}},setup:function(e){var r=ref(0),t=reactive(e.formSchema),e=computed(function(){return t.pages[r.value]});provide("formSchema",t);return{wrapperStyle:computed(function(){return{maxWidth:t.theme.card.maxWidth+"px",width:"100vw"}}),pageStyle:computed(function(){return{backgroundColor:t.theme.page.backgroundColor||"#fff",backgroundImage:t.theme.page.backgroundImage?'url("'+t.theme.page.backgroundImage+'")':null,backgroundSize:"cover",backgroundAttachment:"fixed"}}),cardStyle:computed(function(){return{backgroundColor:t.theme.card.backgroundColor||"#fff",backdropFilter:t.theme.card.backdrop}}),openTypefully:function(){return openURL("https://typefully.io")},currentPage:r,page:e,reactiveFormSchema:t}}}),_hoisted_1$3={key:0,class:"absolute-bottom q-pa-sm text-white",style:{"background-color":"#00000088"}},_hoisted_2$1={key:0,class:"text-h6"},_hoisted_3={key:1,class:"text-subtitle2"},_hoisted_4={key:0,class:"absolute-bottom"},_hoisted_5=createVNode("div",{class:"text-h6"},"Our Changing Planet",-1),_hoisted_6=createVNode("div",{class:"text-subtitle2"},"by John Doe",-1),_hoisted_7=createVNode("div",{class:"q-mb-xs"},"Make your own form with",-1);function render$6(n,e,r,t,o,l){var a=resolveComponent("q-parallax"),i=resolveComponent("q-img"),c=resolveComponent("block"),s=resolveComponent("q-card-section"),u=resolveComponent("q-card"),d=resolveComponent("q-form");return openBlock(),createBlock("div",{class:"flex flex-center",style:[n.pageStyle,{"padding-bottom":"60px"}]},[createVNode(d,{action:n.reactiveFormSchema.form.actionUrl,method:"post"},{default:withCtx(function(){return[createVNode("div",{class:"col",style:n.wrapperStyle},[createVNode(u,{flat:n.reactiveFormSchema.theme.card.flat,square:n.reactiveFormSchema.theme.card.square,bordered:n.reactiveFormSchema.theme.card.bordered,style:n.cardStyle,class:"q-my-lg"},{default:withCtx(function(){return[n.page.cover&&n.page.cover.parallax?(openBlock(),createBlock(a,{key:0,src:n.page.cover.backgroundImage,height:n.page.cover.height||180},{default:withCtx(function(){return[n.page.cover.header||n.page.cover.subHeader?(openBlock(),createBlock("div",_hoisted_1$3,[n.page.cover.header?(openBlock(),createBlock("div",_hoisted_2$1,toDisplayString(n.page.cover.header),1)):createCommentVNode("",!0),n.page.cover.subHeader?(openBlock(),createBlock("div",_hoisted_3,toDisplayString(n.page.cover.subHeader),1)):createCommentVNode("",!0)])):createCommentVNode("",!0)]}),_:1},8,["src","height"])):createCommentVNode("",!0),n.page.cover&&!n.page.cover.parallax&&n.page.cover.backgroundImage?(openBlock(),createBlock(i,{key:1,height:n.page.cover.height,src:n.page.cover.backgroundImage},{default:withCtx(function(){return[n.page.cover.header||n.page.cover.subHeader?(openBlock(),createBlock("div",_hoisted_4,[_hoisted_5,_hoisted_6])):createCommentVNode("",!0)]}),_:1},8,["height","src"])):createCommentVNode("",!0),createVNode(s,null,{default:withCtx(function(){return[(openBlock(!0),createBlock(Fragment,null,renderList(n.page.blocks,function(e,r){return openBlock(),createBlock(c,{key:e.name||e.type+r,"block-schema":e},{beforeblock:withCtx(function(e){var r=e.blockSchema,t=e.el,e=e.hover;return[renderSlot(n.$slots,"beforeblock",{blockSchema:r,el:t,hover:e})]}),_:2},1032,["block-schema"])}),128))]}),_:1})]}),_:1},8,["flat","square","bordered","style"])],4)]}),_:1},8,["action"]),renderSlot(n.$slots,"afterform"),createVNode("div",{id:"poweredBy",class:"fixed-bottom-right q-ma-md",style:{border:"1px solid #ccc",padding:"8px",cursor:"pointer","border-radius":"5px","box-shadow":"1px 1px 3px rgba(0,0,0,0.1)","background-color":"rgba(255,255,255,0.6)"},onClick:e[1]||(e[1]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return n.openTypefully&&n.openTypefully.apply(n,e)})},[_hoisted_7,createVNode(i,{src:"typefully-logo-black.svg",height:"16px",fit:"contain",class:"float-right"})])],4)}script$6.render=render$6;var name="quasar-ui-tyformviewer",version$1="0.1.11",author="dan@typefully.io",description="Form Viewer generator based on JSON config for typefully.io",license="MIT",module="dist/index.esm.js",main="dist/index.common.js",scripts={deploy:"npm run build && npm version patch && npm publish && cd ../app-extension && npm version patch && npm publish",dev:"cd dev && yarn dev && cd ..","dev:umd":"yarn build && node build/script.open-umd.js","dev:ssr":"cd dev && yarn 'dev:ssr' && cd ..","dev:ios":"cd dev && yarn 'dev:ios' && cd ..","dev:android":"cd dev && yarn 'dev:android' && cd ..","dev:electron":"cd dev && yarn 'dev:electron' && cd ..",build:"node build/index.js","build:js":"node build/script.javascript.js"},repository={type:"git",url:""},dependencies={"@vue/compiler-sfc":"^3.1.4","rollup-plugin-vue":"^6.0.0",sortablejs:"^1.10.2"},bugs="",homepage="",devDependencies={"@rollup/plugin-buble":"^0.21.3","@rollup/plugin-json":"^4.0.0","@rollup/plugin-node-resolve":"^11.2.1","@rollup/plugin-replace":"^2.4.2",chalk:"^4.1.0","fs-extra":"^8.1.0",open:"^7.3.0",quasar:"^2.0.0-beta.12",rimraf:"^3.0.0",rollup:"^2.45.0","uglify-js":"^3.13.3",zlib:"^1.0.5"},browserslist=["last 4 Chrome versions","last 4 Firefox versions","last 2 Edge versions","last 4 Safari versions","last 4 Android versions","last 4 ChromeAndroid versions","last 4 FirefoxAndroid versions","last 4 iOS versions"],pkg={name:name,version:version$1,author:author,description:description,license:license,module:module,main:main,scripts:scripts,repository:repository,dependencies:dependencies,bugs:bugs,homepage:homepage,devDependencies:devDependencies,browserslist:browserslist},version=pkg.version;function install(e){e.component(script$6.name,script$6)}var VuePlugin=Object.freeze({__proto__:null,version:version,TyFormViewer:script$6,install:install}),script$5={name:"Wizard",components:{Block:script$7,QStepper:QStepper,QStep:QStep,QBtn:QBtn,QStepperNavigation:QStepperNavigation},props:{steps:Array},setup:function(e){return{currentStep:ref(0)}}};function render$5(n,t,o,l,e,r){var a=resolveComponent("block"),i=resolveComponent("q-btn"),c=resolveComponent("q-stepper-navigation"),s=resolveComponent("q-step"),u=resolveComponent("q-stepper");return openBlock(),createBlock(u,{modelValue:l.currentStep,"onUpdate:modelValue":t[3]||(t[3]=function(e){return l.currentStep=e}),ref:"stepper",animated:"",flat:"",class:"bg-transparent"},{default:withCtx(function(){return[(openBlock(!0),createBlock(Fragment,null,renderList(o.steps,function(e,r){return openBlock(),createBlock(s,{key:e.name||""+r,name:r,title:e.title,caption:e.caption},{navigation:withCtx(function(){return[createVNode(c,null,{default:withCtx(function(){return[createVNode(i,{onClick:t[1]||(t[1]=function(e){return n.$refs.stepper.next()}),label:e.nextLabel||r===o.steps.length-1?"Finish":"Continue"},null,8,["label"]),0<l.currentStep?(openBlock(),createBlock(i,{key:0,flat:"",onClick:t[2]||(t[2]=function(e){return n.$refs.stepper.previous()}),label:"Back",class:"q-ml-sm"})):createCommentVNode("",!0)]}),_:2},1024)]}),default:withCtx(function(){return[(openBlock(!0),createBlock(Fragment,null,renderList(e.blocks,function(e){return openBlock(),createBlock(a,{key:e.name,"block-schema":e},{beforeblock:withCtx(function(e){var r=e.blockSchema,t=e.el,e=e.hover;return[renderSlot(n.$slots,"beforeblock",{blockSchema:r,el:t,hover:e})]}),_:2},1032,["block-schema"])}),128))]}),_:2},1032,["name","title","caption"])}),128))]}),_:1},8,["modelValue"])}script$5.render=render$5;var Wizard=Object.freeze({__proto__:null,default:script$5}),script$4={name:"Section",components:{Block:script$7},props:{name:String,header:String,subHeader:String,blocks:Array},setup:function(e){return{}}},_hoisted_1$2={key:0,class:"text-subtitle1"},_hoisted_2={key:1,class:"text-caption"};function render$4(n,e,r,t,o,l){var a=resolveComponent("block");return openBlock(),createBlock("div",{class:"ty-section",id:r.name},[r.header?(openBlock(),createBlock("p",_hoisted_1$2,toDisplayString(r.header),1)):createCommentVNode("",!0),r.subHeader?(openBlock(),createBlock("p",_hoisted_2,toDisplayString(r.subHeader),1)):createCommentVNode("",!0),(openBlock(!0),createBlock(Fragment,null,renderList(r.blocks,function(e){return openBlock(),createBlock(a,{key:e.name,"block-schema":e},{beforeblock:withCtx(function(e){var r=e.blockSchema,t=e.el,e=e.hover;return[renderSlot(n.$slots,"beforeblock",{blockSchema:r,el:t,hover:e})]}),_:2},1032,["block-schema"])}),128))],8,["id"])}script$4.render=render$4;var Section=Object.freeze({__proto__:null,default:script$4}),script$3={name:"TyInput",components:{},props:{type:{type:String,required:!0,validator:function(e){return["text","password","textarea","email","search","tel","number","url","time","date"].includes(e)}},name:{type:String,required:!0},label:String,hint:String,placeholder:String,validations:{type:Array,default:function(){return[]}},behavior:{type:Object,default:function(){return{}}}},setup:function(e){var r=ref(null);return{formSchema:inject("formSchema"),id:computed(function(){return e.type+"_"+e.name}),val:r}}};function render$3(e,r,t,n,o,l){var a=resolveComponent("q-input");return openBlock(),createBlock("div",null,["top"===n.formSchema.theme.inputs.labelStyle?(openBlock(),createBlock("label",{key:0,for:n.id},toDisplayString(t.label),9,["for"])):createCommentVNode("",!0),createVNode(a,{filled:n.formSchema.theme.inputs.filled,label:"top"!==n.formSchema.theme.inputs.labelStyle?t.label:void 0,rounded:n.formSchema.theme.inputs.rounded,outlined:n.formSchema.theme.inputs.outlined,borderless:n.formSchema.theme.inputs.borderless,square:n.formSchema.theme.inputs.square,"stack-label":"stacked"===n.formSchema.theme.inputs.labelStyle,dense:n.formSchema.theme.inputs.dense,clearable:n.formSchema.theme.inputs.clearable||t.behavior&&t.behavior.clearable,hint:t.hint,counter:!!t.behavior.counter,placeholder:t.placeholder,for:n.id,name:t.name,readonly:!!t.behavior.readOnly,disable:!!t.behavior.disabled,type:t.type,modelValue:n.val,"onUpdate:modelValue":r[1]||(r[1]=function(e){return n.val=e})},null,8,["filled","label","rounded","outlined","borderless","square","stack-label","dense","clearable","hint","counter","placeholder","for","name","readonly","disable","type","modelValue"])])}script$3.render=render$3;var TyInput=Object.freeze({__proto__:null,default:script$3}),script$2={name:"TySelect",components:{},props:{type:{type:String},name:{type:String,required:!0},label:String,hint:String,placeholder:String,validations:{type:Array,default:function(){return[]}},behavior:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}}},setup:function(e){var r=ref(null);return{formSchema:inject("formSchema"),id:computed(function(){return e.type+"_"+e.name}),val:r}}};function render$2(e,r,t,n,o,l){var a=resolveComponent("q-select");return openBlock(),createBlock("div",null,["top"===n.formSchema.theme.inputs.labelStyle?(openBlock(),createBlock("label",{key:0,for:n.id},toDisplayString(t.label),9,["for"])):createCommentVNode("",!0),createVNode(a,{filled:n.formSchema.theme.inputs.filled,label:"top"!==n.formSchema.theme.inputs.labelStyle?t.label:void 0,rounded:n.formSchema.theme.inputs.rounded,outlined:n.formSchema.theme.inputs.outlined,borderless:n.formSchema.theme.inputs.borderless,square:n.formSchema.theme.inputs.square,"stack-label":"stacked"===n.formSchema.theme.inputs.labelStyle,dense:n.formSchema.theme.inputs.dense,clearable:n.formSchema.theme.inputs.clearable||t.behavior&&t.behavior.clearable,hint:t.hint,counter:!!t.behavior.counter,placeholder:t.placeholder,for:n.id,readonly:!!t.behavior.readOnly,disable:!!t.behavior.disabled,modelValue:n.val,"onUpdate:modelValue":r[1]||(r[1]=function(e){return n.val=e}),options:t.options,multiple:!!t.behavior.multiple,"use-chips":!!t.behavior.multiple,name:t.name,"transition-show":"scale","transition-hide":"scale"},null,8,["filled","label","rounded","outlined","borderless","square","stack-label","dense","clearable","hint","counter","placeholder","for","readonly","disable","modelValue","options","multiple","use-chips","name"])])}script$2.render=render$2;var TySelect=Object.freeze({__proto__:null,default:script$2}),script$1={name:"TySlider",components:{},props:{type:{type:String,required:!0},name:{type:String,required:!0},label:String,hint:String,validations:{type:Array,default:function(){return[]}},behavior:{type:Object,default:function(){return{}}},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},defaultValue:{type:Number},reverse:Boolean,showThumbLabel:{type:String,default:"always",validator:function(e){return["always","off","onSlide"].includes(e)}},thumbLabelPrefix:{type:String,default:""},thumbLabelSuffix:{type:String,default:""},snap:Boolean,markers:Boolean,range:Boolean},setup:function(e){var r=ref(void 0!==e.defaultValue?e.defaultValue:e.range?{min:e.min,max:e.max}:50);return{formSchema:inject("formSchema"),id:computed(function(){return e.type+"_"+e.name}),val:r}}},_hoisted_1$1={key:0,class:"text-caption q-ml-sm text-grey-8"};function render$1(e,r,t,n,o,l){return openBlock(),createBlock("div",null,[createVNode("label",null,toDisplayString(t.label),1),(openBlock(),createBlock(resolveDynamicComponent(t.range?"q-range":"q-slider"),{name:t.name,readonly:!!t.behavior.readOnly,disable:!!t.behavior.disabled,min:t.min,max:t.max,step:t.step,reverse:t.reverse,label:"off"!==t.showThumbLabel,"label-always":"always"===t.showThumbLabel,"label-value":t.thumbLabelPrefix+n.val+t.thumbLabelSuffix,"left-label-value":t.thumbLabelPrefix+n.val.min+t.thumbLabelSuffix,"right-label-value":t.thumbLabelPrefix+n.val.max+t.thumbLabelSuffix,snap:t.snap,markers:t.markers,class:"q-mt-lg",modelValue:n.val,"onUpdate:modelValue":r[1]||(r[1]=function(e){return n.val=e})},null,8,["name","readonly","disable","min","max","step","reverse","label","label-always","label-value","left-label-value","right-label-value","snap","markers","modelValue"])),t.hint?(openBlock(),createBlock("div",_hoisted_1$1,toDisplayString(t.hint),1)):createCommentVNode("",!0)])}script$1.render=render$1;var TySlider=Object.freeze({__proto__:null,default:script$1}),script={name:"TyOptionGroup",components:{},props:{type:{type:String,required:!0,validator:function(e){return["radio","checkbox","toggle"].includes(e)}},name:{type:String,required:!0},label:String,labelSide:{type:String,default:"right",validator:function(e){return["left","right"].includes(e)}},inline:Boolean,options:{type:Array,default:function(){return[]}},hint:String,validations:{type:Array,default:function(){return[]}},behavior:{type:Object,default:function(){return{}}}},setup:function(e){e=ref("radio"===e.type?null:[]);return{formSchema:inject("formSchema"),val:e}}},_hoisted_1={key:0,class:"text-caption q-ml-sm text-grey-8"};function render(e,r,t,n,o,l){var a=resolveComponent("q-option-group");return openBlock(),createBlock("div",null,[createVNode("label",null,toDisplayString(t.label),1),createVNode(a,{name:t.name,type:t.type,readonly:!!t.behavior.readOnly,disable:!!t.behavior.disabled,"left-label":"left"===t.labelSide,inline:t.inline,modelValue:n.val,"onUpdate:modelValue":r[1]||(r[1]=function(e){return n.val=e}),options:t.options},null,8,["name","type","readonly","disable","left-label","inline","modelValue","options"]),t.hint?(openBlock(),createBlock("div",_hoisted_1,toDisplayString(t.hint),1)):createCommentVNode("",!0)])}script.render=render;var TyOptionGroup=Object.freeze({__proto__:null,default:script});export default VuePlugin;export{script$6 as TyFormViewer,install,version};