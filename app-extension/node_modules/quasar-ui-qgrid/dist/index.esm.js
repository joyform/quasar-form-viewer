/*!
 * quasar-ui-qgrid v1.0.0-alpha.2
 * (c) 2021 pratikpatelpp802@gmail.com
 * Released under the MIT License.
 */
import{defineComponent,ref,pushScopeId,popScopeId,resolveComponent,resolveDirective,openBlock,createBlock,createVNode,createSlots,createCommentVNode,Fragment,renderList,withModifiers,toDisplayString,withDirectives,createTextVNode,vShow,renderSlot,withScopeId}from"vue";import{uid,exportFile}from"quasar";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=arguments,o=1;o<arguments.length;o++){var n,r=t[o];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectSpread(t){for(var e=arguments,o=1;o<arguments.length;o++){var n=null!=e[o]?e[o]:{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var o,n={},r=Object.keys(e),l=0;l<r.length;l++)o=r[l],0<=t.indexOf(o)||(n[o]=e[o]);return n}function _objectWithoutProperties(e,t){if(null==e)return{};var o,n=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),l=0;l<r.length;l++)o=r[l],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o]);return n}var version$2="1.13.0";function userAgent(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var IE11OrLess=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Edge=userAgent(/Edge/i),FireFox=userAgent(/firefox/i),Safari=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),IOS=userAgent(/iP(ad|od|hone)/i),ChromeForAndroid=userAgent(/chrome/i)&&userAgent(/android/i),captureMode={capture:!1,passive:!1};function on(e,t,o){e.addEventListener(t,o,!IE11OrLess&&captureMode)}function off(e,t,o){e.removeEventListener(t,o,!IE11OrLess&&captureMode)}function matches(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function getParentOrHost(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function closest(e,t,o,n){if(e){o=o||document;do{if(null!=t&&(">"!==t[0]||e.parentNode===o)&&matches(e,t)||n&&e===o)return e}while(e!==o&&(e=getParentOrHost(e)))}return null}var _throttleTimeout,R_SPACE=/\s+/g;function toggleClass(e,t,o){var n;e&&t&&(e.classList?e.classList[o?"add":"remove"](t):(n=(" "+e.className+" ").replace(R_SPACE," ").replace(" "+t+" "," "),e.className=(n+(o?" "+t:"")).replace(R_SPACE," ")))}function css(e,t,o){var n=e&&e.style;if(n){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),void 0===t?o:o[t];n[t=!(t in n||-1!==t.indexOf("webkit"))?"-webkit-"+t:t]=o+("string"==typeof o?"":"px")}}function matrix(e,t){var o="";if("string"==typeof e)o=e;else do{var n=css(e,"transform")}while(n&&"none"!==n&&(o=n+" "+o),!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(o)}function find(e,t,o){if(e){var n=e.getElementsByTagName(t),r=0,l=n.length;if(o)for(;r<l;r++)o(n[r],r);return n}return[]}function getWindowScrollingElement(){var e=document.scrollingElement;return e||document.documentElement}function getRect(e,t,o,n,r){if(e.getBoundingClientRect||e===window){var l,a,i,s,c,d,u=e!==window&&e.parentNode&&e!==getWindowScrollingElement()?(a=(l=e.getBoundingClientRect()).top,i=l.left,s=l.bottom,c=l.right,d=l.height,l.width):(i=a=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,window.innerWidth);if((t||o)&&e!==window&&(r=r||e.parentNode,!IE11OrLess))do{if(r&&r.getBoundingClientRect&&("none"!==css(r,"transform")||o&&"static"!==css(r,"position"))){var p=r.getBoundingClientRect();a-=p.top+parseInt(css(r,"border-top-width")),i-=p.left+parseInt(css(r,"border-left-width")),s=a+l.height,c=i+l.width;break}}while(r=r.parentNode);return n&&e!==window&&(n=(t=matrix(r||e))&&t.a,e=t&&t.d,t&&(s=(a/=e)+(d/=e),c=(i/=n)+(u/=n))),{top:a,left:i,bottom:s,right:c,width:u,height:d}}}function isScrolledPast(e,t,o){for(var n=getParentAutoScrollElement(e,!0),r=getRect(e)[t];n;){var l=getRect(n)[o];if(!("top"===o||"left"===o?l<=r:r<=l))return n;if(n===getWindowScrollingElement())break;n=getParentAutoScrollElement(n,!1)}return!1}function getChild(e,t,o){for(var n=0,r=0,l=e.children;r<l.length;){if("none"!==l[r].style.display&&l[r]!==Sortable.ghost&&l[r]!==Sortable.dragged&&closest(l[r],o.draggable,e,!1)){if(n===t)return l[r];n++}r++}return null}function lastChild(e,t){for(var o=e.lastElementChild;o&&(o===Sortable.ghost||"none"===css(o,"display")||t&&!matches(o,t));)o=o.previousElementSibling;return o||null}function index(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Sortable.clone||t&&!matches(e,t)||o++;return o}function getRelativeScrollOffset(e){var t=0,o=0,n=getWindowScrollingElement();if(e)do{var r=matrix(e),l=r.a,r=r.d}while(t+=e.scrollLeft*l,o+=e.scrollTop*r,e!==n&&(e=e.parentNode));return[t,o]}function indexOfObject(e,t){for(var o in e)if(e.hasOwnProperty(o))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[o][n])return Number(o);return-1}function getParentAutoScrollElement(e,t){if(!e||!e.getBoundingClientRect)return getWindowScrollingElement();var o=e,n=!1;do{if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var r=css(o);if(o.clientWidth<o.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!o.getBoundingClientRect||o===document.body)return getWindowScrollingElement();if(n||t)return o;n=!0}}}while(o=o.parentNode);return getWindowScrollingElement()}function extend(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function isRectEqual(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function throttle(t,o){return function(){var e;_throttleTimeout||(1===(e=arguments).length?t.call(this,e[0]):t.apply(this,e),_throttleTimeout=setTimeout(function(){_throttleTimeout=void 0},o))}}function cancelThrottle(){clearTimeout(_throttleTimeout),_throttleTimeout=void 0}function scrollBy(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}function clone(e){var t=window.Polymer,o=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}var expando="Sortable"+(new Date).getTime();function AnimationStateManager(){var t,n=[];return{captureAnimationState:function(){n=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){var t,o;"none"!==css(e,"display")&&e!==Sortable.ghost&&(n.push({target:e,rect:getRect(e)}),t=_objectSpread({},n[n.length-1].rect),!e.thisAnimationDuration||(o=matrix(e,!0))&&(t.top-=o.f,t.left-=o.e),e.fromRect=t)})},addAnimationState:function(e){n.push(e)},removeAnimationState:function(e){n.splice(indexOfObject(n,{target:e}),1)},animateAll:function(e){var s=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof e&&e());var c=!1,d=0;n.forEach(function(e){var t=0,o=e.target,n=o.fromRect,r=getRect(o),l=o.prevFromRect,a=o.prevToRect,i=e.rect,e=matrix(o,!0);e&&(r.top-=e.f,r.left-=e.e),o.toRect=r,o.thisAnimationDuration&&isRectEqual(l,r)&&!isRectEqual(n,r)&&(i.top-r.top)/(i.left-r.left)==(n.top-r.top)/(n.left-r.left)&&(t=calculateRealTime(i,l,a,s.options)),isRectEqual(r,n)||(o.prevFromRect=n,o.prevToRect=r,t=t||s.options.animation,s.animate(o,i,r,t)),t&&(c=!0,d=Math.max(d,t),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout(function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null},t),o.thisAnimationDuration=t)}),clearTimeout(t),c?t=setTimeout(function(){"function"==typeof e&&e()},d):"function"==typeof e&&e(),n=[]},animate:function(e,t,o,n){var r,l;n&&(css(e,"transition",""),css(e,"transform",""),r=(l=matrix(this.el))&&l.a,l=l&&l.d,r=(t.left-o.left)/(r||1),l=(t.top-o.top)/(l||1),e.animatingX=!!r,e.animatingY=!!l,css(e,"transform","translate3d("+r+"px,"+l+"px,0)"),this.forRepaintDummy=repaint(e),css(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),css(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){css(e,"transition",""),css(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},n))}}}function repaint(e){return e.offsetWidth}function calculateRealTime(e,t,o,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-o.top,2)+Math.pow(t.left-o.left,2))*n.animation}var plugins=[],defaults={initializeByDefault:!0},PluginManager={mount:function(t){for(var e in defaults)!defaults.hasOwnProperty(e)||e in t||(t[e]=defaults[e]);plugins.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),plugins.push(t)},pluginEvent:function(t,o,n){var e=this;this.eventCanceled=!1,n.cancel=function(){e.eventCanceled=!0};var r=t+"Global";plugins.forEach(function(e){o[e.pluginName]&&(o[e.pluginName][r]&&o[e.pluginName][r](_objectSpread({sortable:o},n)),o.options[e.pluginName]&&o[e.pluginName][t]&&o[e.pluginName][t](_objectSpread({sortable:o},n)))})},initializePlugins:function(o,n,r,e){for(var t in plugins.forEach(function(e){var t=e.pluginName;(o.options[t]||e.initializeByDefault)&&((e=new e(o,n,o.options)).sortable=o,e.options=o.options,o[t]=e,_extends(r,e.defaults))}),o.options){var l;o.options.hasOwnProperty(t)&&(void 0!==(l=this.modifyOption(o,t,o.options[t]))&&(o.options[t]=l))}},getEventProperties:function(t,o){var n={};return plugins.forEach(function(e){"function"==typeof e.eventProperties&&_extends(n,e.eventProperties.call(o[e.pluginName],t))}),n},modifyOption:function(t,o,n){var r;return plugins.forEach(function(e){t[e.pluginName]&&e.optionListeners&&"function"==typeof e.optionListeners[o]&&(r=e.optionListeners[o].call(t[e.pluginName],n))}),r}};function dispatchEvent(e){var t=e.sortable,o=e.rootEl,n=e.name,r=e.targetEl,l=e.cloneEl,a=e.toEl,i=e.fromEl,s=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,g=e.putSortable,h=e.extraEventProperties;if(t=t||o&&o[expando]){var f,m=t.options,e="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||IE11OrLess||Edge?(f=document.createEvent("Event")).initEvent(n,!0,!0):f=new CustomEvent(n,{bubbles:!0,cancelable:!0}),f.to=a||o,f.from=i||o,f.item=r||o,f.clone=l,f.oldIndex=s,f.newIndex=c,f.oldDraggableIndex=d,f.newDraggableIndex=u,f.originalEvent=p,f.pullMode=g?g.lastPutMode:void 0;var v,E=_objectSpread({},h,PluginManager.getEventProperties(n,t));for(v in E)f[v]=E[v];o&&o.dispatchEvent(f),m[e]&&m[e].call(t,f)}}var pluginEvent=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=o.evt,o=_objectWithoutProperties(o,["evt"]);PluginManager.pluginEvent.bind(Sortable)(e,t,_objectSpread({dragEl:dragEl,parentEl:parentEl,ghostEl:ghostEl,rootEl:rootEl,nextEl:nextEl,lastDownEl:lastDownEl,cloneEl:cloneEl,cloneHidden:cloneHidden,dragStarted:moved,putSortable:putSortable,activeSortable:Sortable.active,originalEvent:n,oldIndex:oldIndex,oldDraggableIndex:oldDraggableIndex,newIndex:newIndex,newDraggableIndex:newDraggableIndex,hideGhostForTarget:_hideGhostForTarget,unhideGhostForTarget:_unhideGhostForTarget,cloneNowHidden:function(){cloneHidden=!0},cloneNowShown:function(){cloneHidden=!1},dispatchSortableEvent:function(e){_dispatchEvent({sortable:t,name:e,originalEvent:n})}},o))};function _dispatchEvent(e){dispatchEvent(_objectSpread({putSortable:putSortable,cloneEl:cloneEl,targetEl:dragEl,rootEl:rootEl,oldIndex:oldIndex,oldDraggableIndex:oldDraggableIndex,newIndex:newIndex,newDraggableIndex:newDraggableIndex},e))}var dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,oldIndex,newIndex,oldDraggableIndex,newDraggableIndex,activeGroup,putSortable,tapEvt,touchEvt,lastDx,lastDy,tapDistanceLeft,tapDistanceTop,moved,lastTarget,lastDirection,targetMoveDistance,ghostRelativeParent,awaitingDragStarted=!1,ignoreNextClick=!1,sortables=[],pastFirstInvertThresh=!1,isCircumstantialInvert=!1,ghostRelativeParentInitialScroll=[],_silent=!1,savedInputChecked=[],documentExists="undefined"!=typeof document,PositionGhostAbsolutely=IOS,CSSFloatProperty=Edge||IE11OrLess?"cssFloat":"float",supportDraggable=documentExists&&!ChromeForAndroid&&!IOS&&"draggable"in document.createElement("div"),supportCssPointerEvents=function(){if(documentExists){if(IE11OrLess)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),_detectDirection=function(e,t){var o=css(e),n=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=getChild(e,0,t),l=getChild(e,1,t),a=r&&css(r),i=l&&css(l),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+getRect(r).width,e=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+getRect(l).width;if("flex"===o.display)return"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal";if("grid"===o.display)return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){t="left"===a.float?"left":"right";return!l||"both"!==i.clear&&i.clear!==t?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||n<=s&&"none"===o[CSSFloatProperty]||l&&"none"===o[CSSFloatProperty]&&n<s+e)?"vertical":"horizontal"},_dragElInRowColumn=function(e,t,o){var n=o?e.left:e.top,r=o?e.right:e.bottom,l=o?e.width:e.height,a=o?t.left:t.top,e=o?t.right:t.bottom,t=o?t.width:t.height;return n===a||r===e||n+l/2===a+t/2},_detectNearestEmptySortable=function(r,l){var a;return sortables.some(function(e){if(!lastChild(e)){var t=getRect(e),o=e[expando].options.emptyInsertThreshold,n=r>=t.left-o&&r<=t.right+o,t=l>=t.top-o&&l<=t.bottom+o;return o&&n&&t?a=e:void 0}}),a},_prepareGroup=function(e){function i(l,a){return function(e,t,o,n){var r=e.options.group.name&&t.options.group.name&&e.options.group.name===t.options.group.name;if(null==l&&(a||r))return!0;if(null==l||!1===l)return!1;if(a&&"clone"===l)return l;if("function"==typeof l)return i(l(e,t,o,n),a)(e,t,o,n);t=(a?e:t).options.group.name;return!0===l||"string"==typeof l&&l===t||l.join&&-1<l.indexOf(t)}}var t={},o=e.group;o&&"object"==_typeof(o)||(o={name:o}),t.name=o.name,t.checkPull=i(o.pull,!0),t.checkPut=i(o.put),t.revertClone=o.revertClone,e.group=t},_hideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","none")},_unhideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","")};documentExists&&document.addEventListener("click",function(e){if(ignoreNextClick)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ignoreNextClick=!1},!0);var nearestEmptyInsertDetectEvent=function(e){if(dragEl){e=e.touches?e.touches[0]:e;var t=_detectNearestEmptySortable(e.clientX,e.clientY);if(t){var o,n={};for(o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[expando]._onDragOver(n)}}},_checkOutsideTargetEl=function(e){dragEl&&dragEl.parentNode[expando]._isOutsideThisEl(e.target)};function Sortable(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=_extends({},t),e[expando]=this;var o,n,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _detectDirection(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Sortable.supportPointer&&"PointerEvent"in window&&!Safari,emptyInsertThreshold:5};for(o in PluginManager.initializePlugins(this,e,r),r)o in t||(t[o]=r[o]);for(n in _prepareGroup(t),this)"_"===n.charAt(0)&&"function"==typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&supportDraggable,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?on(e,"pointerdown",this._onTapStart):(on(e,"mousedown",this._onTapStart),on(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(on(e,"dragover",this),on(e,"dragenter",this)),sortables.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),_extends(this,AnimationStateManager())}function _globalDragOver(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function _onMove(e,t,o,n,r,l,a,i){var s,c,d=e[expando],u=d.options.onMove;return!window.CustomEvent||IE11OrLess||Edge?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=o,s.draggedRect=n,s.related=r||t,s.relatedRect=l||getRect(t),s.willInsertAfter=i,s.originalEvent=a,e.dispatchEvent(s),c=u?u.call(d,s,a):c}function _disableDraggable(e){e.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsLast(e,t,o){o=getRect(lastChild(o.el,o.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}function _getSwapDirection(e,t,o,n,r,l,a,i){var s=n?e.clientY:e.clientX,c=n?o.height:o.width,e=n?o.top:o.left,n=n?o.bottom:o.right,o=!1;if(!a)if(i&&targetMoveDistance<c*r){if(pastFirstInvertThresh=!pastFirstInvertThresh&&(1===lastDirection?e+c*l/2<s:s<n-c*l/2)?!0:pastFirstInvertThresh)o=!0;else if(1===lastDirection?s<e+targetMoveDistance:n-targetMoveDistance<s)return-lastDirection}else if(e+c*(1-r)/2<s&&s<n-c*(1-r)/2)return _getInsertDirection(t);return(o=o||a)&&(s<e+c*l/2||n-c*l/2<s)?e+c/2<s?1:-1:0}function _getInsertDirection(e){return index(dragEl)<index(e)?1:-1}function _generateId(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,n=0;o--;)n+=t.charCodeAt(o);return n.toString(36)}function _saveInputCheckedState(e){savedInputChecked.length=0;for(var t=e.getElementsByTagName("input"),o=t.length;o--;){var n=t[o];n.checked&&savedInputChecked.push(n)}}function _nextTick(e){return setTimeout(e,0)}function _cancelNextTick(e){return clearTimeout(e)}Sortable.prototype={constructor:Sortable,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(lastTarget=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,dragEl):this.options.direction},_onTapStart:function(t){if(t.cancelable){var o=this,n=this.el,e=this.options,r=e.preventOnFilter,l=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,i=(a||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||i,c=e.filter;if(_saveInputCheckedState(n),!dragEl&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||e.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Safari||!i||"SELECT"!==i.tagName.toUpperCase())&&!((i=closest(i,e.draggable,n,!1))&&i.animated||lastDownEl===i)){if(oldIndex=index(i),oldDraggableIndex=index(i,e.draggable),"function"==typeof c){if(c.call(this,t,i,this))return _dispatchEvent({sortable:o,rootEl:s,name:"filter",targetEl:i,toEl:n,fromEl:n}),pluginEvent("filter",o,{evt:t}),void(r&&t.cancelable&&t.preventDefault())}else if(c=c&&c.split(",").some(function(e){if(e=closest(s,e.trim(),n,!1))return _dispatchEvent({sortable:o,rootEl:e,name:"filter",targetEl:i,fromEl:n,toEl:n}),pluginEvent("filter",o,{evt:t}),!0}))return void(r&&t.cancelable&&t.preventDefault());e.handle&&!closest(s,e.handle,n,!1)||this._prepareDragStart(t,a,i)}}},_prepareDragStart:function(e,t,o){var n,r=this,l=r.el,a=r.options,i=l.ownerDocument;o&&!dragEl&&o.parentNode===l&&(n=getRect(o),rootEl=l,parentEl=(dragEl=o).parentNode,nextEl=dragEl.nextSibling,lastDownEl=o,activeGroup=a.group,Sortable.dragged=dragEl,tapEvt={target:dragEl,clientX:(t||e).clientX,clientY:(t||e).clientY},tapDistanceLeft=tapEvt.clientX-n.left,tapDistanceTop=tapEvt.clientY-n.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,dragEl.style["will-change"]="all",n=function(){pluginEvent("delayEnded",r,{evt:e}),Sortable.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!FireFox&&r.nativeDraggable&&(dragEl.draggable=!0),r._triggerDragStart(e,t),_dispatchEvent({sortable:r,name:"choose",originalEvent:e}),toggleClass(dragEl,a.chosenClass,!0))},a.ignore.split(",").forEach(function(e){find(dragEl,e.trim(),_disableDraggable)}),on(i,"dragover",nearestEmptyInsertDetectEvent),on(i,"mousemove",nearestEmptyInsertDetectEvent),on(i,"touchmove",nearestEmptyInsertDetectEvent),on(i,"mouseup",r._onDrop),on(i,"touchend",r._onDrop),on(i,"touchcancel",r._onDrop),FireFox&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dragEl.draggable=!0),pluginEvent("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Edge||IE11OrLess)?n():Sortable.eventCanceled?this._onDrop():(on(i,"mouseup",r._disableDelayedDrag),on(i,"touchend",r._disableDelayedDrag),on(i,"touchcancel",r._disableDelayedDrag),on(i,"mousemove",r._delayedDragTouchMoveHandler),on(i,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&on(i,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(n,a.delay)))},_delayedDragTouchMoveHandler:function(e){e=e.touches?e.touches[0]:e;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dragEl&&_disableDraggable(dragEl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;off(e,"mouseup",this._disableDelayedDrag),off(e,"touchend",this._disableDelayedDrag),off(e,"touchcancel",this._disableDelayedDrag),off(e,"mousemove",this._delayedDragTouchMoveHandler),off(e,"touchmove",this._delayedDragTouchMoveHandler),off(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?on(document,"pointermove",this._onTouchMove):on(document,t?"touchmove":"mousemove",this._onTouchMove):(on(dragEl,"dragend",this),on(rootEl,"dragstart",this._onDragStart));try{document.selection?_nextTick(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){var o;awaitingDragStarted=!1,rootEl&&dragEl?(pluginEvent("dragStarted",this,{evt:t}),this.nativeDraggable&&on(document,"dragover",_checkOutsideTargetEl),o=this.options,e||toggleClass(dragEl,o.dragClass,!1),toggleClass(dragEl,o.ghostClass,!0),Sortable.active=this,e&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:t})):this._nulling()},_emulateDragOver:function(){if(touchEvt){this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,_hideGhostForTarget();for(var e=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(touchEvt.clientX,touchEvt.clientY))!==t;)t=e;if(dragEl.parentNode[expando]._isOutsideThisEl(e),t)do{if(t[expando])if(t[expando]._onDragOver({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}while(t=(e=t).parentNode);_unhideGhostForTarget()}},_onTouchMove:function(e){if(tapEvt){var t=this.options,o=t.fallbackTolerance,n=t.fallbackOffset,r=e.touches?e.touches[0]:e,l=ghostEl&&matrix(ghostEl,!0),a=ghostEl&&l&&l.a,i=ghostEl&&l&&l.d,t=PositionGhostAbsolutely&&ghostRelativeParent&&getRelativeScrollOffset(ghostRelativeParent),a=(r.clientX-tapEvt.clientX+n.x)/(a||1)+(t?t[0]-ghostRelativeParentInitialScroll[0]:0)/(a||1),i=(r.clientY-tapEvt.clientY+n.y)/(i||1)+(t?t[1]-ghostRelativeParentInitialScroll[1]:0)/(i||1);if(!Sortable.active&&!awaitingDragStarted){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}ghostEl&&(l?(l.e+=a-(lastDx||0),l.f+=i-(lastDy||0)):l={a:1,b:0,c:0,d:1,e:a,f:i},l="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")"),css(ghostEl,"webkitTransform",l),css(ghostEl,"mozTransform",l),css(ghostEl,"msTransform",l),css(ghostEl,"transform",l),lastDx=a,lastDy=i,touchEvt=r),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ghostEl){var e=this.options.fallbackOnBody?document.body:rootEl,t=getRect(dragEl,!0,PositionGhostAbsolutely,!0,e),o=this.options;if(PositionGhostAbsolutely){for(ghostRelativeParent=e;"static"===css(ghostRelativeParent,"position")&&"none"===css(ghostRelativeParent,"transform")&&ghostRelativeParent!==document;)ghostRelativeParent=ghostRelativeParent.parentNode;ghostRelativeParent!==document.body&&ghostRelativeParent!==document.documentElement?(ghostRelativeParent===document&&(ghostRelativeParent=getWindowScrollingElement()),t.top+=ghostRelativeParent.scrollTop,t.left+=ghostRelativeParent.scrollLeft):ghostRelativeParent=getWindowScrollingElement(),ghostRelativeParentInitialScroll=getRelativeScrollOffset(ghostRelativeParent)}toggleClass(ghostEl=dragEl.cloneNode(!0),o.ghostClass,!1),toggleClass(ghostEl,o.fallbackClass,!0),toggleClass(ghostEl,o.dragClass,!0),css(ghostEl,"transition",""),css(ghostEl,"transform",""),css(ghostEl,"box-sizing","border-box"),css(ghostEl,"margin",0),css(ghostEl,"top",t.top),css(ghostEl,"left",t.left),css(ghostEl,"width",t.width),css(ghostEl,"height",t.height),css(ghostEl,"opacity","0.8"),css(ghostEl,"position",PositionGhostAbsolutely?"absolute":"fixed"),css(ghostEl,"zIndex","100000"),css(ghostEl,"pointerEvents","none"),Sortable.ghost=ghostEl,e.appendChild(ghostEl),css(ghostEl,"transform-origin",tapDistanceLeft/parseInt(ghostEl.style.width)*100+"% "+tapDistanceTop/parseInt(ghostEl.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,n=e.dataTransfer,r=o.options;pluginEvent("dragStart",this,{evt:e}),Sortable.eventCanceled?this._onDrop():(pluginEvent("setupClone",this),Sortable.eventCanceled||((cloneEl=clone(dragEl)).draggable=!1,cloneEl.style["will-change"]="",this._hideClone(),toggleClass(cloneEl,this.options.chosenClass,!1),Sortable.clone=cloneEl),o.cloneId=_nextTick(function(){pluginEvent("clone",o),Sortable.eventCanceled||(o.options.removeCloneOnHide||rootEl.insertBefore(cloneEl,dragEl),o._hideClone(),_dispatchEvent({sortable:o,name:"clone"}))}),t||toggleClass(dragEl,r.dragClass,!0),t?(ignoreNextClick=!0,o._loopId=setInterval(o._emulateDragOver,50)):(off(document,"mouseup",o._onDrop),off(document,"touchend",o._onDrop),off(document,"touchcancel",o._onDrop),n&&(n.effectAllowed="move",r.setData&&r.setData.call(o,n,dragEl)),on(document,"drop",o),css(dragEl,"transform","translateZ(0)")),awaitingDragStarted=!0,o._dragStartId=_nextTick(o._dragStarted.bind(o,t,e)),on(document,"selectstart",o),moved=!0,Safari&&css(document.body,"user-select","none"))},_onDragOver:function(o){var n,r,l,a=this.el,i=o.target,t=this.options,e=t.group,s=Sortable.active,c=activeGroup===e,d=t.sort,u=putSortable||s,p=this,g=!1;if(!_silent){if(void 0!==o.preventDefault&&o.cancelable&&o.preventDefault(),i=closest(i,t.draggable,a,!0),x("dragOver"),Sortable.eventCanceled)return g;if(dragEl.contains(o.target)||i.animated&&i.animatingX&&i.animatingY||p._ignoreWhileAnimating===i)return C(!1);if(ignoreNextClick=!1,s&&!t.disabled&&(c?d||(r=!rootEl.contains(dragEl)):putSortable===this||(this.lastPutMode=activeGroup.checkPull(this,s,dragEl,o))&&e.checkPut(this,s,dragEl,o))){if(l="vertical"===this._getDirection(o,i),n=getRect(dragEl),x("dragOverValid"),Sortable.eventCanceled)return g;if(r)return parentEl=rootEl,D(),this._hideClone(),x("revert"),Sortable.eventCanceled||(nextEl?rootEl.insertBefore(dragEl,nextEl):rootEl.appendChild(dragEl)),C(!0);var h=lastChild(a,t.draggable);if(!h||_ghostIsLast(o,l,this)&&!h.animated){if(h===dragEl)return C(!1);if((i=h&&a===o.target?h:i)&&(E=getRect(i)),!1!==_onMove(rootEl,a,dragEl,n,i,E,o,!!i))return D(),a.appendChild(dragEl),parentEl=a,I(),C(!0)}else if(i.parentNode===a){var f,m,v,E=getRect(i),b=dragEl.parentNode!==a,_=!_dragElInRowColumn(dragEl.animated&&dragEl.toRect||n,i.animated&&i.toRect||E,l),S=l?"top":"left",w=isScrolledPast(i,"top","top")||isScrolledPast(dragEl,"top","top"),e=w?w.scrollTop:void 0;if(lastTarget!==i&&(m=E[S],pastFirstInvertThresh=!1,isCircumstantialInvert=!_&&t.invertSwap||b),0!==(f=_getSwapDirection(o,i,E,l,_?1:t.swapThreshold,null==t.invertedSwapThreshold?t.swapThreshold:t.invertedSwapThreshold,isCircumstantialInvert,lastTarget===i)))for(var y=index(dragEl);(v=parentEl.children[y-=f])&&("none"===css(v,"display")||v===ghostEl););if(0===f||v===i)return C(!1);lastDirection=f;h=(lastTarget=i).nextElementSibling,b=!1,_=_onMove(rootEl,a,dragEl,n,i,E,o,b=1===f);if(!1!==_)return 1!==_&&-1!==_||(b=1===_),_silent=!0,setTimeout(_unsilent,30),D(),b&&!h?a.appendChild(dragEl):i.parentNode.insertBefore(dragEl,b?h:i),w&&scrollBy(w,0,e-w.scrollTop),parentEl=dragEl.parentNode,void 0===m||isCircumstantialInvert||(targetMoveDistance=Math.abs(m-getRect(i)[S])),I(),C(!0)}if(a.contains(dragEl))return C(!1)}return!1}function x(e,t){pluginEvent(e,p,_objectSpread({evt:o,isOwner:c,axis:l?"vertical":"horizontal",revert:r,dragRect:n,targetRect:E,canSort:d,fromSortable:u,target:i,completed:C,onMove:function(e,t){return _onMove(rootEl,a,dragEl,n,e,getRect(e),o,t)},changed:I},t))}function D(){x("dragOverAnimationCapture"),p.captureAnimationState(),p!==u&&u.captureAnimationState()}function C(e){return x("dragOverCompleted",{insertion:e}),e&&(c?s._hideClone():s._showClone(p),p!==u&&(toggleClass(dragEl,(putSortable||s).options.ghostClass,!1),toggleClass(dragEl,t.ghostClass,!0)),putSortable!==p&&p!==Sortable.active?putSortable=p:p===Sortable.active&&putSortable&&(putSortable=null),u===p&&(p._ignoreWhileAnimating=i),p.animateAll(function(){x("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(i===dragEl&&!dragEl.animated||i===a&&!i.animated)&&(lastTarget=null),t.dragoverBubble||o.rootEl||i===document||(dragEl.parentNode[expando]._isOutsideThisEl(o.target),e||nearestEmptyInsertDetectEvent(o)),!t.dragoverBubble&&o.stopPropagation&&o.stopPropagation(),g=!0}function I(){newIndex=index(dragEl),newDraggableIndex=index(dragEl,t.draggable),_dispatchEvent({sortable:p,name:"change",toEl:a,newIndex:newIndex,newDraggableIndex:newDraggableIndex,originalEvent:o})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){off(document,"mousemove",this._onTouchMove),off(document,"touchmove",this._onTouchMove),off(document,"pointermove",this._onTouchMove),off(document,"dragover",nearestEmptyInsertDetectEvent),off(document,"mousemove",nearestEmptyInsertDetectEvent),off(document,"touchmove",nearestEmptyInsertDetectEvent)},_offUpEvents:function(){var e=this.el.ownerDocument;off(e,"mouseup",this._onDrop),off(e,"touchend",this._onDrop),off(e,"pointerup",this._onDrop),off(e,"touchcancel",this._onDrop),off(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;newIndex=index(dragEl),newDraggableIndex=index(dragEl,o.draggable),pluginEvent("drop",this,{evt:e}),parentEl=dragEl&&dragEl.parentNode,newIndex=index(dragEl),newDraggableIndex=index(dragEl,o.draggable),Sortable.eventCanceled||(pastFirstInvertThresh=isCircumstantialInvert=awaitingDragStarted=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(document,"drop",this),off(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Safari&&css(document.body,"user-select",""),css(dragEl,"transform",""),e&&(moved&&(e.cancelable&&e.preventDefault(),o.dropBubble||e.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||putSortable&&"clone"!==putSortable.lastPutMode)&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",moved&&!awaitingDragStarted&&toggleClass(dragEl,(putSortable||this).options.ghostClass,!1),toggleClass(dragEl,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:parentEl,newIndex:null,newDraggableIndex:null,originalEvent:e}),rootEl!==parentEl?(0<=newIndex&&(_dispatchEvent({rootEl:parentEl,name:"add",toEl:parentEl,fromEl:rootEl,originalEvent:e}),_dispatchEvent({sortable:this,name:"remove",toEl:parentEl,originalEvent:e}),_dispatchEvent({rootEl:parentEl,name:"sort",toEl:parentEl,fromEl:rootEl,originalEvent:e}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:e})),putSortable&&putSortable.save()):newIndex!==oldIndex&&0<=newIndex&&(_dispatchEvent({sortable:this,name:"update",toEl:parentEl,originalEvent:e}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:e})),Sortable.active&&(null!=newIndex&&-1!==newIndex||(newIndex=oldIndex,newDraggableIndex=oldDraggableIndex),_dispatchEvent({sortable:this,name:"end",toEl:parentEl,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){pluginEvent("nulling",this),rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=cloneHidden=tapEvt=touchEvt=moved=newIndex=newDraggableIndex=oldIndex=oldDraggableIndex=lastTarget=lastDirection=putSortable=activeGroup=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,savedInputChecked.forEach(function(e){e.checked=!0}),savedInputChecked.length=lastDx=lastDy=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":dragEl&&(this._onDragOver(e),_globalDragOver(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],o=this.el.children,n=0,r=o.length,l=this.options;n<r;n++)closest(e=o[n],l.draggable,this.el,!1)&&t.push(e.getAttribute(l.dataIdAttr)||_generateId(e));return t},sort:function(e,t){var o={},n=this.el;this.toArray().forEach(function(e,t){t=n.children[t];closest(t,this.options.draggable,n,!1)&&(o[e]=t)},this),t&&this.captureAnimationState(),e.forEach(function(e){o[e]&&(n.removeChild(o[e]),n.appendChild(o[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return closest(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(void 0===t)return o[e];var n=PluginManager.modifyOption(this,e,t);o[e]=void 0!==n?n:t,"group"===e&&_prepareGroup(o)},destroy:function(){pluginEvent("destroy",this);var e=this.el;e[expando]=null,off(e,"mousedown",this._onTapStart),off(e,"touchstart",this._onTapStart),off(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(e,"dragover",this),off(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),sortables.splice(sortables.indexOf(this.el),1),this.el=e=null},_hideClone:function(){cloneHidden||(pluginEvent("hideClone",this),Sortable.eventCanceled||(css(cloneEl,"display","none"),this.options.removeCloneOnHide&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),cloneHidden=!0))},_showClone:function(e){"clone"===e.lastPutMode?cloneHidden&&(pluginEvent("showClone",this),Sortable.eventCanceled||(dragEl.parentNode!=rootEl||this.options.group.revertClone?nextEl?rootEl.insertBefore(cloneEl,nextEl):rootEl.appendChild(cloneEl):rootEl.insertBefore(cloneEl,dragEl),this.options.group.revertClone&&this.animate(dragEl,cloneEl),css(cloneEl,"display",""),cloneHidden=!1)):this._hideClone()}},documentExists&&on(document,"touchmove",function(e){(Sortable.active||awaitingDragStarted)&&e.cancelable&&e.preventDefault()}),Sortable.utils={on:on,off:off,css:css,find:find,is:function(e,t){return!!closest(e,t,e,!1)},extend:extend,throttle:throttle,closest:closest,toggleClass:toggleClass,clone:clone,index:index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:_detectDirection,getChild:getChild},Sortable.get=function(e){return e[expando]},Sortable.mount=function(){for(var e=arguments,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=e[n];(o=o[0].constructor===Array?o[0]:o).forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Sortable.utils=_objectSpread({},Sortable.utils,e.utils)),PluginManager.mount(e)})},Sortable.create=function(e,t){return new Sortable(e,t)},Sortable.version=version$2;var scrollEl,scrollRootEl,lastAutoScrollX,lastAutoScrollY,touchEvt$1,pointerElemChangedInterval,autoScrolls=[],scrolling=!1;function AutoScrollPlugin(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){e=e.originalEvent;this.sortable.nativeDraggable?on(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on(document,"pointermove",this._handleFallbackAutoScroll):e.touches?on(document,"touchmove",this._handleFallbackAutoScroll):on(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){e=e.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?off(document,"dragover",this._handleAutoScroll):(off(document,"pointermove",this._handleFallbackAutoScroll),off(document,"touchmove",this._handleFallbackAutoScroll),off(document,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),cancelThrottle()},nulling:function(){touchEvt$1=scrollRootEl=scrollEl=scrolling=pointerElemChangedInterval=lastAutoScrollX=lastAutoScrollY=null,autoScrolls.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(t,o){var n,r=this,l=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,e=document.elementFromPoint(l,a);touchEvt$1=t,o||Edge||IE11OrLess||Safari?(autoScroll(t,this.options,e,o),n=getParentAutoScrollElement(e,!0),!scrolling||pointerElemChangedInterval&&l===lastAutoScrollX&&a===lastAutoScrollY||(pointerElemChangedInterval&&clearPointerElemChangedInterval(),pointerElemChangedInterval=setInterval(function(){var e=getParentAutoScrollElement(document.elementFromPoint(l,a),!0);e!==n&&(n=e,clearAutoScrolls()),autoScroll(t,r.options,e,o)},10),lastAutoScrollX=l,lastAutoScrollY=a)):this.options.bubbleScroll&&getParentAutoScrollElement(e,!0)!==getWindowScrollingElement()?autoScroll(t,this.options,getParentAutoScrollElement(e,!1),!1):clearAutoScrolls()}},_extends(e,{pluginName:"scroll",initializeByDefault:!0})}function clearAutoScrolls(){autoScrolls.forEach(function(e){clearInterval(e.pid)}),autoScrolls=[]}function clearPointerElemChangedInterval(){clearInterval(pointerElemChangedInterval)}var autoScroll=throttle(function(o,e,t,n){if(e.scroll){var r,l=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,i=e.scrollSensitivity,s=e.scrollSpeed,c=getWindowScrollingElement(),d=!1;scrollRootEl!==t&&(scrollRootEl=t,clearAutoScrolls(),scrollEl=e.scroll,r=e.scrollFn,!0===scrollEl&&(scrollEl=getParentAutoScrollElement(t,!0)));var u=0,p=scrollEl;do{var g=p,h=getRect(g),f=h.top,m=h.bottom,v=h.left,E=h.right,b=h.width,_=h.height,S=void 0,w=void 0,y=g.scrollWidth,x=g.scrollHeight,D=css(g),C=g.scrollLeft,h=g.scrollTop,w=g===c?(S=b<y&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),_<x&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(S=b<y&&("auto"===D.overflowX||"scroll"===D.overflowX),_<x&&("auto"===D.overflowY||"scroll"===D.overflowY)),C=S&&(Math.abs(E-l)<=i&&C+b<y)-(Math.abs(v-l)<=i&&!!C),h=w&&(Math.abs(m-a)<=i&&h+_<x)-(Math.abs(f-a)<=i&&!!h);if(!autoScrolls[u])for(var I=0;I<=u;I++)autoScrolls[I]||(autoScrolls[I]={});autoScrolls[u].vx==C&&autoScrolls[u].vy==h&&autoScrolls[u].el===g||(autoScrolls[u].el=g,autoScrolls[u].vx=C,autoScrolls[u].vy=h,clearInterval(autoScrolls[u].pid),0==C&&0==h||(d=!0,autoScrolls[u].pid=setInterval(function(){n&&0===this.layer&&Sortable.active._onTouchMove(touchEvt$1);var e=autoScrolls[this.layer].vy?autoScrolls[this.layer].vy*s:0,t=autoScrolls[this.layer].vx?autoScrolls[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(Sortable.dragged.parentNode[expando],t,e,o,touchEvt$1,autoScrolls[this.layer].el)||scrollBy(autoScrolls[this.layer].el,t,e)}.bind({layer:u}),24))),u++}while(e.bubbleScroll&&p!==c&&(p=getParentAutoScrollElement(p,!1)));scrolling=d}},30),drop=function(e){var t=e.originalEvent,o=e.putSortable,n=e.dragEl,r=e.activeSortable,l=e.dispatchSortableEvent,a=e.hideGhostForTarget,e=e.unhideGhostForTarget;t&&(r=o||r,a(),t=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t=document.elementFromPoint(t.clientX,t.clientY),e(),r&&!r.el.contains(t)&&(l("spill"),this.onSpill({dragEl:n,putSortable:o})))};function Revert(){}function Remove(){}function wrapCsvValue(e,t){e=void 0!==t?t(e):e;return'"'+(e=(e=null==e?"":String(e)).split('"').join('""'))+'"'}Revert.prototype={startIndex:null,dragStart:function(e){e=e.oldDraggableIndex;this.startIndex=e},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();e=getChild(this.sortable.el,this.startIndex,this.options);e?this.sortable.el.insertBefore(t,e):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:drop},_extends(Revert,{pluginName:"revertOnSpill"}),Remove.prototype={onSpill:function(e){var t=e.dragEl,e=e.putSortable||this.sortable;e.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),e.animateAll()},drop:drop},_extends(Remove,{pluginName:"removeOnSpill"}),Sortable.mount(new AutoScrollPlugin),Sortable.mount(Remove,Revert);var script=defineComponent({name:"QGrid",props:["data","columns","file_name","csv_download","excel_download","columns_filter","header_filter","draggable","classes","separator","dense","dark","flat","bordered","square","selection","selected","fullscreen","global_search","groupby_filter","visible_columns","pagination"],setup:function(){return{filter_data:ref({}),uuid:ref(""),column_options:ref({}),column_options_selected:ref({}),filter_flags:ref({}),selection_prop:ref(""),name:ref(""),selected_prop:ref([]),filter:ref(""),gorupby_option:ref([]),group_pagination:{rowsPerPage:0},grouped_column:[{name:"Grouped",required:!0,label:"Grouped Column Values",align:"left",field:"name",sortable:!0}],sub_grouped_data:ref({}),sub_grouped_columns:ref([]),selected_group_by_filed:ref({label:"Group By Field",value:""}),final_column:ref([])}},mounted:function(){this.Sorting()},computed:{getFilteredData:function(){var o=this,n=this.final_column.map(function(e){return e.field});return this.data.filter(function(e){for(var t="",t=0;t<n.length;t++)if(""!=o.filter_data[n[t]]){if(null==e[n[t]])return!0;if(n[t]in o.filter_data&&-1==e[n[t]].toString().toLowerCase().indexOf(o.filter_data[n[t]].toLowerCase()))return!1}return!0})},getFilteredValuesData:function(){var o=this;this.column_options_selected=Object.assign({},this.column_options_selected);var e,t=this.getFilteredData.filter(function(e){for(var t="",t=0;t<o.columns.length;t++)if(0!=o.column_options_selected[o.columns[t].field].length&&-1==o.column_options_selected[o.columns[t].field].indexOf(e[o.columns[t].field].toString().toLowerCase()))return!1;return!0});return this.groupby_filter&&""!=this.selected_group_by_filed.value&&(e=this.groupBy(t,this.selected_group_by_filed.value),t=[],Object.keys(e).filter(function(e){return t.push({name:e}),e}),this.sub_grouped_data=e),t},hasDefaultSlot:function(){return this.$slots.hasOwnProperty("body")}},created:function(){this.uuid=uid(),void 0===this.selection?this.selection_prop="none":this.selection_prop=this.selection,void 0===this.file_name?this.name="Download":this.name=this.file_name,void 0===this.selected?this.selected_prop=[]:this.selected_prop=this.selected,this.gorupby_option=[{label:"Group By Field",value:""}];var o=this;o.column_options={},o.columns.filter(function(e){return o.column_options[e.field]=[],o.column_options_selected[e.field]=[],o.filter_flags[e.field]=!1,e.hasOwnProperty("grouping")&&e.grouping&&o.gorupby_option.push({label:e.label,value:e.field}),e}),o.data.filter(function(t){o.columns.filter(function(e){null!=t[e.field]&&o.column_options[e.field].push({label:t[e.field].toString(),value:t[e.field].toString().toLowerCase().replace(/_/g,"_")})})}),o.columns.filter(function(e){o.column_options[e.field]=[].concat(new Map(o.column_options[e.field].map(function(e){return[e.value,e]})).values())}),this.final_column=""!=this.selected_group_by_filed.value?this.grouped_column:this.columns},methods:{exportTable:function(e){var o=this,t=[this.columns.map(function(e){return wrapCsvValue(e.label)})].concat(this.data.map(function(t){return o.columns.map(function(e){return wrapCsvValue("function"==typeof e.field?e.field(t):t[void 0===e.field?e.name:e.field],e.format)}).join(",")})).join("\r\n");!0!==exportFile(this.file_name+"."+e,t,"text/"+e)&&this.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},groupBy:function(e,t){var o={};return e.forEach(function(e){o[e[t]]||(o[e[t]]=[]),o[e[t]].push(e)}),o},Sorting:function(){var e=document.getElementById(this.uuid).querySelector("table tbody"),o=this;Sortable.create(e,{disabled:!this.draggable,onEnd:function(e){var t=o.data[e.oldIndex];o.data[e.oldIndex]=o.data[e.newIndex],o.data[e.newIndex]=t},onMove:function(e,t){if("ignore-elements q-tr"==e.related.className)return!1}})}},watch:{selected_group_by_filed:function(){console.log(this.selected_group_by_filed.value),this.final_column=this.groupby_filter&&""!=this.selected_group_by_filed.value?this.grouped_column:this.columns},selected_prop:function(){this.$emit("selected-val",this.selected_prop.values())}}}),_withId=withScopeId("data-v-7dfedcbe");pushScopeId("data-v-7dfedcbe");var _hoisted_1={class:"row inline"},_hoisted_2={class:"column"},_hoisted_3={class:"column"},_hoisted_4={class:"q-pa-sm q-mt-md"},_hoisted_5={slot:"body","slot-scope":"props"};popScopeId();var render=_withId(function(n,r,e,t,o,l){var a=resolveComponent("q-checkbox"),i=resolveComponent("q-th"),s=resolveComponent("q-icon"),c=resolveComponent("q-space"),d=resolveComponent("q-btn"),u=resolveComponent("q-select"),p=resolveComponent("q-menu"),g=resolveComponent("q-tr"),h=resolveComponent("q-input"),f=resolveComponent("q-tooltip"),m=resolveComponent("q-td"),v=resolveComponent("q-table"),E=resolveDirective("close-popup");return openBlock(),createBlock("span",null,[createVNode(v,{id:n.uuid,rows:n.getFilteredValuesData,columns:n.final_column,"row-key":"name",class:n.classes,"visible-columns":n.visible_columns,pagination:n.pagination,separator:n.separator,dense:n.dense,dark:n.dark,flat:n.flat,bordered:n.bordered,square:n.square,selection:n.selection_prop,selected:n.selected_prop,"onUpdate:selected":r[7]||(r[7]=function(e){return n.selected_prop=e}),filter:n.filter},createSlots({header:_withId(function(o){return[createVNode(g,{props:o},{default:_withId(function(){return["none"!=n.selection_prop?(openBlock(),createBlock(i,{key:0,"auto-width":""},{default:_withId(function(){return["multiple"==n.selection_prop?(openBlock(),createBlock(a,{key:0,modelValue:o.selected,"onUpdate:modelValue":function(e){return o.selected=e},"indeterminate-value":"some"},null,8,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0)]}),_:2},1024)):createCommentVNode("",!0),(openBlock(!0),createBlock(Fragment,null,renderList(o.cols,function(t){return openBlock(),createBlock(i,{props:o,onHover:r[2]||(r[2]=withModifiers(function(){},["stop"])),key:t.name},{default:_withId(function(){return[createVNode("div",_hoisted_1,[createVNode("div",_hoisted_2,[createVNode("p",null,toDisplayString(t.label),1)]),createVNode("div",_hoisted_3,[n.header_filter?(openBlock(),createBlock(d,{key:0,flat:"",dense:"",size:"sm",icon:"fa fa-filter",class:"q-ml-xs",onClick:r[1]||(r[1]=withModifiers(function(){},["stop"]))},{default:_withId(function(){return[0<n.column_options_selected[t.field].length?(openBlock(),createBlock(s,{key:0,name:"fas fa-asterisk",color:"red",style:{"font-size":"7px"}})):createCommentVNode("",!0),createVNode(p,null,{default:_withId(function(){return[createVNode(c),withDirectives(createVNode(d,{dense:"",class:"float-right q-ma-sm bg-red text-white",round:"",size:"sm",flat:"",icon:"close"},null,512),[[E]]),createVNode("div",_hoisted_4,[createVNode(u,{"map-options":"",multiple:"","emit-value":"",filled:"",modelValue:n.column_options_selected[t.field],"onUpdate:modelValue":function(e){return n.column_options_selected[t.field]=e},options:n.column_options[t.field],style:{width:"150px !important"}},null,8,["modelValue","onUpdate:modelValue","options"])]),withDirectives(createVNode(d,{color:"primary",class:"float-right  q-mr-sm q-mb-sm text-capitalize",size:"sm",onClick:function(e){return n.column_options_selected[t.field]=[]},label:"Clear"},null,8,["onClick"]),[[E]])]}),_:2},1024)]}),_:2},1024)):createCommentVNode("",!0)])])]}),_:2},1032,["props"])}),128))]}),_:2},1032,["props"]),n.columns_filter?(openBlock(),createBlock(g,{key:0,props:o,class:"ignore-elements"},{default:_withId(function(){return["none"!=n.selection_prop?(openBlock(),createBlock(i,{key:0,"auto-width":""})):createCommentVNode("",!0),(openBlock(!0),createBlock(Fragment,null,renderList(o.cols,function(t){return openBlock(),createBlock(i,{key:t.name,style:{padding:"0px 0px 0px 0px"}},{default:_withId(function(){return[t.hasOwnProperty("filter_type")&&"text"!=t.filter_type?createCommentVNode("",!0):(openBlock(),createBlock(h,{key:0,dense:"",color:"teal",class:"q-pl-xs q-pr-xs",filled:"",modelValue:n.filter_data[t.field],"onUpdate:modelValue":function(e){return n.filter_data[t.field]=e}},createSlots({_:2},[n.filter_data[t.field]?{name:"append",fn:_withId(function(){return[createVNode(s,{name:"cancel",onClick:withModifiers(function(e){return n.filter_data[t.field]=""},["stop"]),class:"cursor-pointer"},null,8,["onClick"])]})}:void 0]),1032,["modelValue","onUpdate:modelValue"])),t.hasOwnProperty("filter_type")&&"select"==t.filter_type?(openBlock(),createBlock(u,{key:1,"map-options":"",multiple:"","emit-value":"",filled:"",modelValue:n.column_options_selected[t.field],"onUpdate:modelValue":function(e){return n.column_options_selected[t.field]=e},options:n.column_options[t.field],dense:""},{append:_withId(function(){return[0<n.column_options_selected[t.field].length?(openBlock(),createBlock(s,{key:0,name:"close",onClick:withModifiers(function(e){return n.column_options_selected[t.field]=[]},["stop"]),class:"cursor-pointer"},null,8,["onClick"])):createCommentVNode("",!0)]}),_:2},1032,["modelValue","onUpdate:modelValue","options"])):createCommentVNode("",!0)]}),_:2},1024)}),128))]}),_:2},1032,["props"])):createCommentVNode("",!0)]}),body:_withId(function(o){return[n.hasDefaultSlot?createCommentVNode("",!0):(openBlock(),createBlock(g,{key:0,props:o},{default:_withId(function(){return["none"!=n.selection_prop?(openBlock(),createBlock(m,{key:0},{default:_withId(function(){return[createVNode(a,{color:"primary",modelValue:o.selected,"onUpdate:modelValue":function(e){return o.selected=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1024)):createCommentVNode("",!0),(openBlock(!0),createBlock(Fragment,null,renderList(o.cols,function(e,t){return openBlock(),createBlock(m,{key:e.name,props:o},{default:_withId(function(){return[n.groupby_filter&&""!=n.selected_group_by_filed.value&&0==t?(openBlock(),createBlock(d,{key:0,size:"sm",color:"accent",round:"",dense:"",onClick:function(e){return o.expand=!o.expand},class:"q-mr-sm",icon:o.expand?"remove":"add"},null,8,["onClick","icon"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(o.row[e.field]),1)]}),_:2},1032,["props"])}),128))]}),_:2},1032,["props"])),n.groupby_filter&&""!=n.selected_group_by_filed.value?withDirectives((openBlock(),createBlock(g,{key:1,props:o},{default:_withId(function(){return[createVNode(m,{colspan:2},{default:_withId(function(){return[createVNode(v,{rows:n.sub_grouped_data[o.row.name],columns:n.columns,"row-key":"name",pagination:n.group_pagination,"hide-bottom":""},{default:_withId(function(){return[createVNode(g,{slot:"header","slot-scope":"props"},{default:_withId(function(){return[n.col.field!=n.selected_group_by_filed?(openBlock(!0),createBlock(Fragment,{key:0},renderList(o.cols,function(e){return openBlock(),createBlock(i,{key:e.name,props:o},{default:_withId(function(){return[createTextVNode(toDisplayString(e.label),1)]}),_:2},1032,["props"])}),128)):createCommentVNode("",!0)]}),_:2},1024),createVNode("template",_hoisted_5,[createVNode(g,{props:o},{default:_withId(function(){return[n.col.field!=n.selected_group_by_filed?(openBlock(!0),createBlock(Fragment,{key:0},renderList(o.cols,function(e){return openBlock(),createBlock(m,{key:e.name,props:o},{default:_withId(function(){return[createTextVNode(toDisplayString(o.row[e.field]),1)]}),_:2},1032,["props"])}),128)):createCommentVNode("",!0)]}),_:2},1032,["props"])])]}),_:2},1032,["rows","columns","pagination"])]}),_:2},1024)]}),_:2},1032,["props"])),[[vShow,o.expand]]):createCommentVNode("",!0),n.hasDefaultSlot?renderSlot(n.$slots,"body",{key:2,row:o.row}):createCommentVNode("",!0)]}),_:2},[n.excel_download||n.csv_download||n.fullscreen||n.global_search?{name:"top-right",fn:_withId(function(e){return[n.global_search?(openBlock(),createBlock(h,{key:0,filled:"",borderless:"",dense:"",debounce:"300",modelValue:n.filter,"onUpdate:modelValue":r[3]||(r[3]=function(e){return n.filter=e}),class:"q-mr-md",placeholder:"Search"},{append:_withId(function(){return[createVNode(s,{name:"search"})]}),_:1},8,["modelValue"])):createCommentVNode("",!0),n.excel_download?(openBlock(),createBlock(d,{key:1,class:"bg-grey-2 q-mr-sm",icon:"fas fa-file-excel","no-caps":"",onClick:r[4]||(r[4]=function(e){return n.exportTable("xlsx")})})):createCommentVNode("",!0),n.csv_download?(openBlock(),createBlock(d,{key:2,class:"bg-primary text-white ",icon:"fas fa-file-csv","no-caps":"",onClick:r[5]||(r[5]=function(e){return n.exportTable("csv")})})):createCommentVNode("",!0),n.groupby_filter?(openBlock(),createBlock(u,{key:3,class:"q-mr-sm q-ml-sm",outlined:"",dense:"",modelValue:n.selected_group_by_filed,"onUpdate:modelValue":r[6]||(r[6]=function(e){return n.selected_group_by_filed=e}),options:n.gorupby_option,style:{width:"150px"}},null,8,["modelValue","options"])):createCommentVNode("",!0),n.fullscreen?(openBlock(),createBlock(d,{key:4,flat:"",round:"",class:"q-ml-sm",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen",onClick:e.toggleFullscreen},{default:_withId(function(){return[withDirectives(createVNode(f,{disable:n.$q.platform.is.mobile},{default:_withId(function(){return[createTextVNode(toDisplayString(e.inFullscreen?"Exit Fullscreen":"Toggle Fullscreen"),1)]}),_:2},1032,["disable"]),[[E]])]}),_:2},1032,["icon","onClick"])):createCommentVNode("",!0)]})}:void 0]),1032,["id","rows","columns","class","visible-columns","pagination","separator","dense","dark","flat","bordered","square","selection","selected","filter"])])});script.render=render,script.__scopeId="data-v-7dfedcbe";var name="quasar-ui-qgrid",version$1="1.0.0-alpha.2",author="pratikpatelpp802@gmail.com",description="QGrid",license="MIT",module="dist/index.esm.js",main="dist/index.common.js",scripts={dev:"cd dev && yarn dev && cd ..","dev:umd":"yarn build && node build/script.open-umd.js","dev:ssr":"cd dev && yarn 'dev:ssr' && cd ..","dev:ios":"cd dev && yarn 'dev:ios' && cd ..","dev:android":"cd dev && yarn 'dev:android' && cd ..","dev:electron":"cd dev && yarn 'dev:electron' && cd ..",build:"node build/index.js","build:js":"node build/script.javascript.js"},repository={type:"git",url:""},dependencies={"@vue/compiler-sfc":"^3.1.4","rollup-plugin-vue":"^6.0.0-beta.10",sortablejs:"^1.10.2"},bugs="",homepage="",devDependencies={"@rollup/plugin-buble":"^0.21.3","@rollup/plugin-json":"^4.0.0","@rollup/plugin-node-resolve":"^11.2.1","@rollup/plugin-replace":"^2.4.2",chalk:"^4.1.0","fs-extra":"^8.1.0",open:"^7.3.0",quasar:"^2.0.0-beta.12",rimraf:"^3.0.0",rollup:"^2.45.0","uglify-js":"^3.13.3",zlib:"^1.0.5"},browserslist=["last 4 Chrome versions","last 4 Firefox versions","last 2 Edge versions","last 4 Safari versions","last 4 Android versions","last 4 ChromeAndroid versions","last 4 FirefoxAndroid versions","last 4 iOS versions"],pkg={name:name,version:version$1,author:author,description:description,license:license,module:module,main:main,scripts:scripts,repository:repository,dependencies:dependencies,bugs:bugs,homepage:homepage,devDependencies:devDependencies,browserslist:browserslist},version=pkg.version;function install(e){e.component(script.name,script)}var VuePlugin=Object.freeze({__proto__:null,version:version,QGrid:script,install:install});export default VuePlugin;export{script as QGrid,install,version};